
<div class="confirmation-container">
  <!-- Loading State -->
  <div *ngIf="loading" class="loading-state">
    <div class="spinner"></div>
    <p>Processing your order...</p>
  </div>

  <!-- Confirmation State -->
  <div *ngIf="!loading && order" class="confirmation-content">
    <!-- Success Header -->
    <div class="confirmation-header">
      <div class="success-icon">âœ“</div>
      <h1>Order Confirmed!</h1>
      <p class="confirmation-message">
        Thank you for your purchase. Your order has been successfully placed.
      </p>
    </div>

    <!-- Order Number Section -->
    <div class="order-details-card">
      <div class="order-number-section">
        <div class="order-item">
          <span class="label">Order Number</span>
          <span class="value">{{ order.orderNumber }}</span>
        </div>
        <div class="order-item">
          <span class="label">Order Date</span>
          <span class="value">{{ order.date | date: 'dd/MM/yyyy HH:mm' }}</span>
        </div>
        <div class="order-item">
          <span class="label">Status</span>
          <span class="value status" [ngClass]="'status-' + order.status">{{ order.status | uppercase }}</span>
        </div>
      </div>
    </div>

    <!-- Main Content Grid -->
    <div class="confirmation-grid">
      <!-- Shipping Address -->
      <div class="info-card">
        <h2>Shipping Address</h2>
        <div class="info-content">
          <p><strong>{{ order.shippingAddress!.firstName }} {{ order.shippingAddress!.lastName }}</strong></p>
          <p>{{ order.shippingAddress!.address }}</p>
          <p>{{ order.shippingAddress!.zipCode }} {{ order.shippingAddress!.city }}</p>
          <p>{{ order.shippingAddress!.country }}</p>
          <hr>
          <p><strong>Email:</strong> {{ order.shippingAddress!.email }}</p>
          <p><strong>Phone:</strong> {{ order.shippingAddress!.phone }}</p>
        </div>
      </div>

      <!-- Payment Information -->
      <div class="info-card">
        <h2>Payment Information</h2>
        <div class="info-content">
          <p><strong>Cardholder:</strong> {{ order.paymentDetails!.cardholderName }}</p>
          <p><strong>Card:</strong> {{ order.paymentDetails!.cardNumber }}</p>
          <p><strong>Expires:</strong> {{ order.paymentDetails!.expiryDate }}</p>
          <div class="payment-status">
            <span class="badge badge-success">âœ“ Payment Confirmed</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Order Items -->
    <div class="order-items-card">
      <h2>Order Items</h2>
      <div class="items-table">
        <div class="table-header">
          <div class="col-product">Product</div>
          <div class="col-price">Price</div>
          <div class="col-qty">Quantity</div>
          <div class="col-total">Total</div>
        </div>
        <div *ngFor="let item of order.items" class="table-row">
          <div class="col-product">
            <img [src]="item.image" [alt]="item.name" class="product-thumb">
            <div class="product-info">
              <strong>{{ item.name }}</strong>
              <p class="category">{{ item.category }}</p>
            </div>
          </div>
          <div class="col-price">â‚¬{{ item.price.toFixed(2) }}</div>
          <div class="col-qty">{{ item.quantity }}</div>
          <div class="col-total">â‚¬{{ (item.price * item.quantity).toFixed(2) }}</div>
        </div>
      </div>
    </div>

    <!-- Order Summary -->
    <div class="order-summary-card">
      <h2>Order Summary</h2>
      <div class="summary-content">
        <div class="summary-row">
          <span>Subtotal</span>
          <span>â‚¬{{ order.subtotal!.toFixed(2) }}</span>
        </div>
        <div class="summary-row">
          <span>Shipping</span>
          <span>â‚¬{{ order.shipping!.toFixed(2) }}</span>
        </div>
        <div class="summary-row">
          <span>Tax (10%)</span>
          <span>â‚¬{{ order.tax!.toFixed(2) }}</span>
        </div>
        <div class="summary-row total">
          <span>Total Amount</span>
          <span>â‚¬{{ getTotalAmount().toFixed(2) }}</span>
        </div>
      </div>
    </div>

    <!-- What's Next Section -->
    <div class="whats-next-card">
      <h2>What's Next?</h2>
      <div class="steps">
        <div class="step">
          <div class="step-number">1</div>
          <div class="step-content">
            <h4>Confirmation Email</h4>
            <p>We've sent a confirmation email to {{ order.shippingAddress!.email }}</p>
          </div>
        </div>
        <div class="step">
          <div class="step-number">2</div>
          <div class="step-content">
            <h4>Processing</h4>
            <p>Your order is being prepared for shipment (1-2 business days)</p>
          </div>
        </div>
        <div class="step">
          <div class="step-number">3</div>
          <div class="step-content">
            <h4>Shipment</h4>
            <p>You'll receive a tracking number via email when your order ships</p>
          </div>
        </div>
        <div class="step">
          <div class="step-number">4</div>
          <div class="step-content">
            <h4>Delivery</h4>
            <p>Your order will arrive within 5-7 business days</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Action Buttons -->
    <div class="action-buttons">
      <button class="btn-download" (click)="downloadInvoice()">
        ðŸ“¥ Download Invoice
      </button>
      <button class="btn-track" (click)="viewOrders()">
        ðŸ“¦ Track Your Orders
      </button>
      <button class="btn-continue" (click)="continueShopping()">
        Continue Shopping
      </button>
    </div>
  </div>

  <!-- Error State -->
  <div *ngIf="!loading && !order" class="error-state">
    <div class="error-icon">âœ—</div>
    <h2>Order Not Found</h2>
    <p>We couldn't find your order. Please check the order number and try again.</p>
    <button class="btn-back" (click)="continueShopping()">Back to Home</button>
  </div>
</div>