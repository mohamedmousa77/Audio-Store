<section class="category-section">
  <div class="category-container">
    <!-- Header -->
    <h2 class="category-title">{{ translations().categorySection.title}}</h2>

    <!-- Loading State -->
    @if (loading()) {
    <div class="loading-state">
      <div class="spinner"></div>
    </div>
    }

    <!-- Categories Carousel -->
    @if (!loading()) {
    <div class="categories-wrapper">
      @if (categories.length > 3) {
      <button class="scroll-btn left" (click)="scrollLeft()" aria-label="Scroll left">
        <span class="material-symbols-outlined">chevron_left</span>
      </button>
      }

      <div class="categories-grid" #scrollContainer>
        @for (category of categories; track category.id) {
        <a [routerLink]="['/client/category', category.name]" class="category-card">
          <div class="category-image" [style.backgroundImage]="'url(' + getCategoryImage(category) + ')'">
            <div class="category-overlay"></div>
          </div>

          <div class="category-content">
            <h3 class="category-name">{{ category.name }}</h3>
            <p class="category-description">{{ category.description }}</p>
          </div>

          <button class="category-btn">
            {{ translations().categorySection.exploreCategory }} {{ category.name }}
          </button>
        </a>
        }
      </div>

      @if (categories.length > 3) {
      <button class="scroll-btn right" (click)="scrollRight()" aria-label="Scroll right">
        <span class="material-symbols-outlined">chevron_right</span>
      </button>
      }
    </div>
    }
  </div>
</section>